%% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[letterpaper,10pt,english]{sphinxmanual}
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax

\PassOptionsToPackage{warn}{textcomp}
\usepackage[utf8]{inputenc}
\ifdefined\DeclareUnicodeCharacter
% support both utf8 and utf8x syntaxes
  \ifdefined\DeclareUnicodeCharacterAsOptional
    \def\sphinxDUC#1{\DeclareUnicodeCharacter{"#1}}
  \else
    \let\sphinxDUC\DeclareUnicodeCharacter
  \fi
  \sphinxDUC{00A0}{\nobreakspace}
  \sphinxDUC{2500}{\sphinxunichar{2500}}
  \sphinxDUC{2502}{\sphinxunichar{2502}}
  \sphinxDUC{2514}{\sphinxunichar{2514}}
  \sphinxDUC{251C}{\sphinxunichar{251C}}
  \sphinxDUC{2572}{\textbackslash}
\fi
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amstext}
\usepackage{babel}



\usepackage{times}
\expandafter\ifx\csname T@LGR\endcsname\relax
\else
% LGR was declared as font encoding
  \substitutefont{LGR}{\rmdefault}{cmr}
  \substitutefont{LGR}{\sfdefault}{cmss}
  \substitutefont{LGR}{\ttdefault}{cmtt}
\fi
\expandafter\ifx\csname T@X2\endcsname\relax
  \expandafter\ifx\csname T@T2A\endcsname\relax
  \else
  % T2A was declared as font encoding
    \substitutefont{T2A}{\rmdefault}{cmr}
    \substitutefont{T2A}{\sfdefault}{cmss}
    \substitutefont{T2A}{\ttdefault}{cmtt}
  \fi
\else
% X2 was declared as font encoding
  \substitutefont{X2}{\rmdefault}{cmr}
  \substitutefont{X2}{\sfdefault}{cmss}
  \substitutefont{X2}{\ttdefault}{cmtt}
\fi


\usepackage[Bjarne]{fncychap}
\usepackage{sphinx}

\fvset{fontsize=\small}
\usepackage{geometry}

% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}

\usepackage{sphinxmessages}
\setcounter{tocdepth}{0}



\title{ITUCSDB1963 Documentation}
\date{Dec 24, 2019}
\release{}
\author{ITUCSDB1963}
\newcommand{\sphinxlogo}{\vbox{}}
\renewcommand{\releasename}{}
\makeindex
\begin{document}

\pagestyle{empty}
\sphinxmaketitle
\pagestyle{plain}
\sphinxtableofcontents
\pagestyle{normal}
\phantomsection\label{\detokenize{index::doc}}

\begin{quote}\begin{description}
\item[{Team}] \leavevmode
SIS++

\item[{Members}] \leavevmode\begin{itemize}
\item {} 
Berkay Olgun

\item {} 
Uğur Ali Kaplan

\item {} 
Member 3

\end{itemize}

\end{description}\end{quote}

\sphinxstylestrong{A student approach to the ITU student information system, with robust and efficient code base. SIS++ is a student information system that keeps tracks the information about the school and shows them.}

Contents:


\chapter{User Guide}
\label{\detokenize{user/index:user-guide}}\label{\detokenize{user/index::doc}}
\sphinxstylestrong{Users get information about the school and enroll to classes.}

\sphinxstylestrong{to add a picture, use the following example}:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{o}{.}\PYG{o}{.} \PYG{n}{figure}\PYG{p}{:}\PYG{p}{:} \PYG{n}{picture}\PYG{o}{.}\PYG{n}{png}
   \PYG{p}{:}\PYG{n}{scale}\PYG{p}{:} \PYG{l+m+mi}{50} \PYG{o}{\PYGZpc{}}
   \PYG{p}{:}\PYG{n}{alt}\PYG{p}{:} \PYG{n+nb}{map} \PYG{n}{to} \PYG{n}{buried} \PYG{n}{treasure}

   \PYG{n}{This} \PYG{o+ow}{is} \PYG{n}{the} \PYG{n}{caption} \PYG{n}{of} \PYG{n}{the} \PYG{n}{figure} \PYG{p}{(}\PYG{n}{a} \PYG{n}{simple} \PYG{n}{paragraph}\PYG{p}{)}\PYG{o}{.}
\end{sphinxVerbatim}


\section{Parts Implemented by Berkay}
\label{\detokenize{user/berkay:parts-implemented-by-berkay}}\label{\detokenize{user/berkay::doc}}
This page will be providing information on

Instructors
Rooms
Classrooms


\subsection{1. Instructors}
\label{\detokenize{user/berkay:instructors}}
Instructors page visible to all users.

Navigate to Instructors page by clicking the \sphinxstyleemphasis{Instructors} button on the navbar.

In order to perform operation on Instructors, you must login and have permission.
Once those are provided, you are eligible to operate on Instructors in our system and this page should be
visible to you.


\subsubsection{1.1. Adding a New Instructor}
\label{\detokenize{user/berkay:adding-a-new-instructor}}
\begin{figure}[htbp]
\centering
\capstart

\noindent\sphinxincludegraphics[scale=0.3]{{forms}.png}
\caption{Super User Page}\label{\detokenize{user/berkay:id1}}\end{figure}

From the blue boxes, pick \sphinxstyleemphasis{Instructors} dropdown form will be opened, provide the necessary information
about the instructor in relative boxes below. Once you have provided all the information, click \sphinxstyleemphasis{Submit}
button to finalize the process and add the instructor.

\begin{sphinxadmonition}{warning}{Warning:}
The room of an instructor must exist before it’s instructor.
\end{sphinxadmonition}


\subsubsection{1.2. Updating an Existing Instructor}
\label{\detokenize{user/berkay:updating-an-existing-instructor}}
From the checkboxes, pick one and hit the button \sphinxstyleemphasis{UPDATE}. Then, change the information that
you would like to update and then click \sphinxstyleemphasis{Update} button to end the process and update the Instructor.

\begin{sphinxadmonition}{tip}{Tip:}
If you check more than one boxes you update only the first one with that operation
\end{sphinxadmonition}

\begin{figure}[htbp]
\centering
\capstart

\noindent\sphinxincludegraphics[scale=0.3]{{instructors_update}.png}
\caption{Instructor Update Page}\label{\detokenize{user/berkay:id2}}\end{figure}


\subsubsection{1.3. Viewing and Deleting Existing Instructors}
\label{\detokenize{user/berkay:viewing-and-deleting-existing-instructors}}
To view the instructors come to the page instructors. If you want to delete them,
then, check the checkboxes that you want delete and press the \sphinxstyleemphasis{DELETE} button to
end the process and delete the given Instructor.

\begin{figure}[htbp]
\centering
\capstart

\noindent\sphinxincludegraphics[scale=0.3]{{instructors}.png}
\caption{Instructors Page}\label{\detokenize{user/berkay:id3}}\end{figure}


\subsection{2. Rooms}
\label{\detokenize{user/berkay:rooms}}
Navigate to Rooms Companies page by clicking the \sphinxstyleemphasis{Rooms} button on the navbar.

\begin{sphinxadmonition}{note}{Note:}
Rooms are only visible in navbar to admins.
\end{sphinxadmonition}

In order to perform operation on rooms or see the buttons, you must login and have permission.
Once those are provided, you are eligible to operate on Rooms in our system and this page should be
visible to you.

\begin{sphinxadmonition}{tip}{Tip:}
The word room is used like a synonym to a place in this application.
\end{sphinxadmonition}

\begin{figure}[htbp]
\centering
\capstart

\noindent\sphinxincludegraphics[scale=0.3]{{rooms}.png}
\caption{Rooms Page}\label{\detokenize{user/berkay:id4}}\end{figure}


\subsubsection{2.1. Adding a New Room}
\label{\detokenize{user/berkay:adding-a-new-room}}
\begin{figure}[htbp]
\centering
\capstart

\noindent\sphinxincludegraphics[scale=0.3]{{forms}.png}
\caption{Super User Page}\label{\detokenize{user/berkay:id5}}\end{figure}

From the blue boxes, pick \sphinxstyleemphasis{Room} dropdown form will be opened, provide the necessary information
about the room in relative boxes below. Once you have provided all the information, click \sphinxstyleemphasis{Submit}
button to finalize the process and add the room.


\subsubsection{2.2. Updating an Existing Room}
\label{\detokenize{user/berkay:updating-an-existing-room}}
From the checkboxes, pick one and hit the button \sphinxstyleemphasis{UPDATE}. Then, change the information that
you would like to update and then click \sphinxstyleemphasis{Update} button to end the process and update the Room.

\begin{sphinxadmonition}{tip}{Tip:}
If you check more than one boxes you update only the first one
\end{sphinxadmonition}

\begin{figure}[htbp]
\centering
\capstart

\noindent\sphinxincludegraphics[scale=0.3]{{rooms_update}.png}
\caption{Rooms Update}\label{\detokenize{user/berkay:id6}}\end{figure}


\subsubsection{2.3. Viewing and Deleting Existing Rooms}
\label{\detokenize{user/berkay:viewing-and-deleting-existing-rooms}}
To view the Rooms come to the page Rooms. If you want to delete them,
then, check the checkboxes that you want delete and press the \sphinxstyleemphasis{DELETE} button to
end the process and delete the given Room.

\begin{figure}[htbp]
\centering
\capstart

\noindent\sphinxincludegraphics[scale=0.3]{{rooms_admin}.png}
\caption{Rooms}\label{\detokenize{user/berkay:id7}}\end{figure}


\subsection{3. Classrooms}
\label{\detokenize{user/berkay:classrooms}}
Navigate to Classrooms Companies page by clicking the \sphinxstyleemphasis{Classrooms} button on the navbar.

\begin{sphinxadmonition}{note}{Note:}
Classrooms are only visible in navbar to admins.
\end{sphinxadmonition}

In order to perform operation on rooms or see the buttons, you must login and have permission.
Once those are provided, you are eligible to operate on Rooms in our system and this page should be
visible to you.


\subsubsection{3.1. Adding a New Classroom}
\label{\detokenize{user/berkay:adding-a-new-classroom}}
\begin{figure}[htbp]
\centering
\capstart

\noindent\sphinxincludegraphics[scale=0.3]{{forms}.png}
\caption{Super User Page}\label{\detokenize{user/berkay:id8}}\end{figure}

From the blue boxes, pick \sphinxstyleemphasis{Classroom} dropdown form will be opened, provide the necessary information
about the instructor in relative boxes below. Once you have provided all the information, click \sphinxstyleemphasis{Submit}
button to finalize the process and add the Classroom.


\subsubsection{3.2. Updating an Existing Classroom}
\label{\detokenize{user/berkay:updating-an-existing-classroom}}
From the checkboxes, pick one and hit the button \sphinxstyleemphasis{UPDATE}. Then, change the information that
you would like to update and then click \sphinxstyleemphasis{Update} button to end the process and update the Classroom.

\begin{sphinxadmonition}{tip}{Tip:}
If you check more than one boxes you update only the first one
\end{sphinxadmonition}

\begin{figure}[htbp]
\centering
\capstart

\noindent\sphinxincludegraphics[scale=0.3]{{classrooms_update}.png}
\caption{Classroom Update}\label{\detokenize{user/berkay:id9}}\end{figure}


\subsubsection{3.3. Viewing and Deleting Existing Classrooms}
\label{\detokenize{user/berkay:viewing-and-deleting-existing-classrooms}}
To view the Classrooms come to the page Classrooms. If you want to delete them,
then, check the checkboxes that you want delete and press the \sphinxstyleemphasis{DELETE} button to
end the process and delete the given Classroom.

\begin{figure}[htbp]
\centering
\capstart

\noindent\sphinxincludegraphics[scale=0.3]{{classrooms}.png}
\caption{Classrooms Page}\label{\detokenize{user/berkay:id10}}\end{figure}


\section{Parts Implemented by Uğur Ali Kaplan}
\label{\detokenize{user/kaplan:parts-implemented-by-ugur-ali-kaplan}}\label{\detokenize{user/kaplan::doc}}
Here, you will be able to find information about how to interact
with different pages of our website, SİS++ using various web forms.

Focus of this document is going to be these pages:
\begin{itemize}
\item {} 
Papers

\item {} 
Labs

\item {} 
Faculties

\item {} 
Departments

\item {} 
Clubs

\item {} 
Buildings

\item {} 
Assistants

\end{itemize}

Actually, all of these have the same logic. So, if you understand how
to use one, you will be able to understand how to use the others except
for the form you have to use when dealing with papers.

So, first two entries will be explained in detail and rest will be a series
of screenshoots since there is no new information to add and it would make
a really redundant documentation.

Let’s start with the complicated one, papers.


\subsection{Papers}
\label{\detokenize{user/kaplan:papers}}
Papers, as you can guess from its name lets you learn about various
authors and their papers.

If you were to go into papers page, you will see a box that asks you
to pick an author. Then, if a name in the database has papers, you will
be able to see their names in this list and learn more about their papers.

\begin{figure}[htbp]
\centering

\noindent\sphinxincludegraphics[scale=0.7]{{papers}.png}
\end{figure}

If a person does not have a paper registered in the database, you will not
be able to see their name in this list.

After picking an author, you can see their papers listed as shown here:

\begin{figure}[htbp]
\centering

\noindent\sphinxincludegraphics[scale=0.7]{{papersule}.png}
\end{figure}

Now, you can pick an entry from this table and hit delete or update. If you
hit delete and you have multiple authors, you will see that paper is still in
the database yet its authors does not include the author you have used to
reach this listing.

As an example, let’s say you choose “Uğur Ali Kaplan” as the author. And you
pick a paper, with authors “Uğur Ali Kaplan”, “Berkay Olgun” and “Mehmet Altuner”.
If you delete this paper, now when you pick “Berkay Olgun” as the author, you will
still be able to see the paper. What is different is however, that you will not
see “Uğur Ali Kaplan”s name listed along names of “Berkay Olgun” and “Mehmet Altuner”.

Other than that, if you choose to update the papers, you will meet with a screen
such as the one below:

\begin{figure}[htbp]
\centering

\noindent\sphinxincludegraphics[scale=0.7]{{updatepaper}.png}
\end{figure}

As in the case of deleting, changes you make in paper updates are local. So, if you change the name
of the paper, name of the paper will only be different for this author and other entries
will not be affected.

As it is the case for all the other tables, if you wish to create an entry for papers you
will have to use the super user page.

\begin{figure}[htbp]
\centering

\noindent\sphinxincludegraphics[scale=0.7]{{papercreate}.png}
\end{figure}

If you fill the form and hit create, new entry will be created. In this case, you can choose any person
that has an entry in the database. If your database do not have an entry for the person you want to
attribute the paper to, you have to create a person for it. Details of how to create a person can be found
in other pages of this documentation.


\subsection{Labs}
\label{\detokenize{user/kaplan:labs}}
You can see, update and delete labs in the university from labs page. Also, if you wish to create a new lab,
you can use the super user page.

When you enter into labs page, you will see the following:

\begin{figure}[htbp]
\centering

\noindent\sphinxincludegraphics[scale=0.7]{{labsl}.png}
\end{figure}

You can pick one of the labs and hit delete or update. Delete is as straigthforward as it goes, it deletes the
chosen entry. Be careful, because there is no “Are you sure?” popping out in our system, we trust you.

If you wish to update the entries, again you can choose the entry you want to update and you will see a similar
page to the image below:

\begin{figure}[htbp]
\centering

\noindent\sphinxincludegraphics[scale=0.7]{{labu}.png}
\end{figure}

You can enter update the information and hit the update button.

To create a new lab never seen before, as opposed to update one, you have to use the super user page.
In the super user page, find the one that says “Lab Creation Form” and create a new lab by clicking
the “Create” button after filling the necessary information.

\begin{figure}[htbp]
\centering

\noindent\sphinxincludegraphics[scale=0.7]{{labcreate}.png}
\end{figure}


\subsection{Faculties}
\label{\detokenize{user/kaplan:faculties}}
You can list the faculties under the faculties page. From this page, you can also delete or update
the entries you choose.

To create a new faculty, you have to go to the super user page.

\begin{figure}[htbp]
\centering

\noindent\sphinxincludegraphics[scale=0.7]{{facr}.png}
\end{figure}

\begin{figure}[htbp]
\centering

\noindent\sphinxincludegraphics[scale=0.7]{{facultiesl}.png}
\end{figure}

\begin{figure}[htbp]
\centering

\noindent\sphinxincludegraphics[scale=0.7]{{facultyu}.png}
\end{figure}


\subsection{Departments}
\label{\detokenize{user/kaplan:departments}}
You can list the departments under the departments page. From this page, you can also delete or update
the entries you choose.

To create a new department, you have to go to the super user page.

\begin{figure}[htbp]
\centering

\noindent\sphinxincludegraphics[scale=0.7]{{departmentcr}.png}
\end{figure}

\begin{figure}[htbp]
\centering

\noindent\sphinxincludegraphics[scale=0.7]{{departmentsl}.png}
\end{figure}

\begin{figure}[htbp]
\centering

\noindent\sphinxincludegraphics[scale=0.7]{{departmentu}.png}
\end{figure}


\subsection{Clubs}
\label{\detokenize{user/kaplan:clubs}}
You can list the clubs under the faculties page. From this page, you can also delete or update
the entries you choose.

To create a new club, you have to go to the super user page.

\begin{figure}[htbp]
\centering

\noindent\sphinxincludegraphics[scale=0.7]{{clubcr}.png}
\end{figure}

\begin{figure}[htbp]
\centering

\noindent\sphinxincludegraphics[scale=0.7]{{clubsu}.png}
\end{figure}

\begin{figure}[htbp]
\centering

\noindent\sphinxincludegraphics[scale=0.7]{{clubsl}.png}
\end{figure}


\subsection{Buildings}
\label{\detokenize{user/kaplan:buildings}}
You can list the faculties under the buildings page. From this page, you can also delete or update
the entries you choose.

To create a new building, you have to go to the super user page.

\begin{figure}[htbp]
\centering

\noindent\sphinxincludegraphics[scale=0.7]{{buildingcr}.png}
\end{figure}

\begin{figure}[htbp]
\centering

\noindent\sphinxincludegraphics[scale=0.7]{{buildingslist}.png}
\end{figure}

\begin{figure}[htbp]
\centering

\noindent\sphinxincludegraphics[scale=0.7]{{buildingsupdate}.png}
\end{figure}


\subsection{Assistants}
\label{\detokenize{user/kaplan:assistants}}
You can list the faculties under the assistants page. From this page, you can also delete or update
the entries you choose.

To create a new assistant, you have to go to the super user page.

\begin{figure}[htbp]
\centering

\noindent\sphinxincludegraphics[scale=0.7]{{ascr}.png}
\end{figure}

\begin{figure}[htbp]
\centering

\noindent\sphinxincludegraphics[scale=0.7]{{assistantslist}.png}
\end{figure}

\begin{figure}[htbp]
\centering

\noindent\sphinxincludegraphics[scale=0.7]{{assistantupdate}.png}
\end{figure}


\section{Parts Implemented by Member Name}
\label{\detokenize{user/member3:parts-implemented-by-member-name}}\label{\detokenize{user/member3::doc}}

\chapter{Developer Guide}
\label{\detokenize{developer/index:developer-guide}}\label{\detokenize{developer/index::doc}}

\section{Database Design}
\label{\detokenize{developer/index:database-design}}
\sphinxstylestrong{explain the database design of your project}

\sphinxstylestrong{include the E/R diagram(s)}


\section{Code}
\label{\detokenize{developer/index:code}}
\sphinxstylestrong{explain the technical structure of your code}

\sphinxstylestrong{to include a code listing, use the following example}:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{o}{.}\PYG{o}{.} \PYG{n}{code}\PYG{o}{\PYGZhy{}}\PYG{n}{block}\PYG{p}{:}\PYG{p}{:} \PYG{n}{python}

   \PYG{k}{class} \PYG{n+nc}{Foo}\PYG{p}{:}

      \PYG{k}{def} \PYG{n+nf}{\PYGZus{}\PYGZus{}init\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{x}\PYG{p}{)}\PYG{p}{:}
         \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{x} \PYG{o}{=} \PYG{n}{x}
\end{sphinxVerbatim}


\subsection{Parts Implemented by Berkay Olgun}
\label{\detokenize{developer/berkay:parts-implemented-by-berkay-olgun}}\label{\detokenize{developer/berkay::doc}}

\subsubsection{Instructors}
\label{\detokenize{developer/berkay:instructors}}
\begin{sphinxadmonition}{note}{Note:}
All table creations exist in db\_init.py file.
\end{sphinxadmonition}

\begin{sphinxadmonition}{note}{Note:}
All SQL operations in python files are wrapped with try-except statements in order to avoid errors
\end{sphinxadmonition}


\paragraph{1. Creation}
\label{\detokenize{developer/berkay:creation}}
Detailed informations about instructors are kept in tables that it refers.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{CREATE} \PYG{k}{TABLE} \PYG{k}{IF} \PYG{k}{NOT} \PYG{k}{EXISTS} \PYG{n}{INSTRUCTORS}\PYG{p}{(}
    \PYG{n}{INS\PYGZus{}ID} \PYG{n+nb}{INTEGER} \PYG{k}{PRIMARY} \PYG{k}{KEY}\PYG{p}{,}
    \PYG{n}{BACHELORS} \PYG{n+nb}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{90}\PYG{p}{)}\PYG{p}{,}
    \PYG{n}{MASTERS} \PYG{n+nb}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{90}\PYG{p}{)}\PYG{p}{,}
    \PYG{n}{DOCTORATES} \PYG{n+nb}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{90}\PYG{p}{)}\PYG{p}{,}
    \PYG{n}{DEPARTMENT} \PYG{n+nb}{INTEGER}\PYG{p}{,}
    \PYG{n}{ROOM} \PYG{n+nb}{INTEGER} \PYG{k}{UNIQUE}\PYG{p}{,}
    \PYG{n}{LAB} \PYG{n+nb}{INTEGER}\PYG{p}{,}
    \PYG{k}{FOREIGN} \PYG{k}{KEY} \PYG{p}{(}\PYG{n}{DEPARTMENT}\PYG{p}{)} \PYG{k}{REFERENCES} \PYG{n}{DEPARTMENTS}\PYG{p}{(}\PYG{n}{DEP\PYGZus{}ID}\PYG{p}{)} \PYG{k}{ON} \PYG{k}{UPDATE} \PYG{k}{CASCADE} \PYG{k}{ON} \PYG{k}{DELETE} \PYG{k}{SET} \PYG{k}{NULL}\PYG{p}{,}
    \PYG{k}{FOREIGN} \PYG{k}{KEY} \PYG{p}{(}\PYG{n}{ROOM}\PYG{p}{)} \PYG{k}{REFERENCES} \PYG{n}{ROOMS}\PYG{p}{(}\PYG{n}{ROOM\PYGZus{}ID}\PYG{p}{)} \PYG{k}{ON} \PYG{k}{DELETE} \PYG{k}{SET} \PYG{k}{NULL}\PYG{p}{,}
    \PYG{k}{FOREIGN} \PYG{k}{KEY} \PYG{p}{(}\PYG{n}{LAB}\PYG{p}{)} \PYG{k}{REFERENCES} \PYG{n}{LABS}\PYG{p}{(}\PYG{n}{LAB\PYGZus{}ID}\PYG{p}{)} \PYG{k}{ON} \PYG{k}{DELETE} \PYG{k}{SET} \PYG{k}{NULL}\PYG{p}{,}
    \PYG{k}{FOREIGN} \PYG{k}{KEY} \PYG{p}{(}\PYG{n}{INS\PYGZus{}ID}\PYG{p}{)} \PYG{k}{REFERENCES} \PYG{n}{PEOPLE} \PYG{k}{ON} \PYG{k}{DELETE} \PYG{k}{CASCADE}
\PYG{p}{)}
\end{sphinxVerbatim}


\paragraph{2. Adding}
\label{\detokenize{developer/berkay:adding}}
Before adding an instructor if that person is not in table People he/she will be added to people before adding as instructor.
Instructor id references the private key in the People table.

\begin{sphinxadmonition}{warning}{Warning:}
The room of an instructor should be added before it’s instructor.
\end{sphinxadmonition}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{add\PYGZus{}instructor}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{instructor}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{try}\PYG{p}{:}
        \PYG{k}{with} \PYG{n}{dbapi2}\PYG{o}{.}\PYG{n}{connect}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{url}\PYG{p}{)} \PYG{k}{as} \PYG{n}{connection}\PYG{p}{:}
            \PYG{n}{cursor} \PYG{o}{=} \PYG{n}{connection}\PYG{o}{.}\PYG{n}{cursor}\PYG{p}{(}\PYG{p}{)}
            \PYG{n}{statement} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{INSERT INTO INSTRUCTORS (INS\PYGZus{}ID, BACHELORS, MASTERS, DOCTORATES,}
             \PYG{n}{DEPARTMENT}\PYG{p}{,} \PYG{n}{ROOM}\PYG{p}{,} \PYG{n}{LAB}\PYG{p}{)} \PYG{n}{VALUES} \PYG{p}{(}\PYG{o}{\PYGZpc{}}\PYG{n}{s}\PYG{p}{,} \PYG{o}{\PYGZpc{}}\PYG{n}{s}\PYG{p}{,} \PYG{o}{\PYGZpc{}}\PYG{n}{s}\PYG{p}{,} \PYG{o}{\PYGZpc{}}\PYG{n}{s}\PYG{p}{,} \PYG{o}{\PYGZpc{}}\PYG{n}{s}\PYG{p}{,} \PYG{o}{\PYGZpc{}}\PYG{n}{s}\PYG{p}{,} \PYG{o}{\PYGZpc{}}\PYG{n}{s}\PYG{p}{)}\PYG{l+s+s2}{\PYGZdq{}}
            \PYG{n}{data} \PYG{o}{=} \PYG{p}{[}\PYG{n}{instructor}\PYG{o}{.}\PYG{n}{instructor\PYGZus{}id}\PYG{p}{,} \PYG{n}{instructor}\PYG{o}{.}\PYG{n}{bachelors}\PYG{p}{,} \PYG{n}{instructor}\PYG{o}{.}\PYG{n}{masters}\PYG{p}{,} \PYG{n}{instructor}\PYG{o}{.}\PYG{n}{doctorates}\PYG{p}{,}
                    \PYG{n}{instructor}\PYG{o}{.}\PYG{n}{department}\PYG{p}{,} \PYG{n}{instructor}\PYG{o}{.}\PYG{n}{room}\PYG{p}{,} \PYG{n}{instructor}\PYG{o}{.}\PYG{n}{lab}\PYG{p}{]}
            \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{execute}\PYG{p}{(}\PYG{n}{statement}\PYG{p}{,} \PYG{n}{data}\PYG{p}{)}
            \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{close}\PYG{p}{(}\PYG{p}{)}
    \PYG{k}{except} \PYG{n+ne}{Exception} \PYG{k}{as} \PYG{n}{err}\PYG{p}{:}
        \PYG{k}{print}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Add Instructor Error: }\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{err}\PYG{p}{)}
    \PYG{k}{return} \PYG{n}{instructor}
\end{sphinxVerbatim}


\paragraph{3. Reading}
\label{\detokenize{developer/berkay:reading}}
In order to get room name lab name and instructor name join operations must be performed since the tables are in normal form.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{get\PYGZus{}instructors}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{try}\PYG{p}{:}
        \PYG{k}{with} \PYG{n}{dbapi2}\PYG{o}{.}\PYG{n}{connect}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{url}\PYG{p}{)} \PYG{k}{as} \PYG{n}{connection}\PYG{p}{:}
            \PYG{n}{cursor} \PYG{o}{=} \PYG{n}{connection}\PYG{o}{.}\PYG{n}{cursor}\PYG{p}{(}\PYG{p}{)}
            \PYG{n}{statement} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{SELECT P\PYGZus{}ID, NAME, ROOMS.ROOM\PYGZus{}NAME, LABS.LAB\PYGZus{}NAME, BACHELORS, MASTERS,}
             \PYG{n}{DOCTORATES} \PYG{n}{FROM} \PYG{n}{INSTRUCTORS} \PYG{n}{JOIN} \PYG{n}{PEOPLE} \PYG{n}{ON} \PYG{p}{(}\PYG{n}{INSTRUCTORS}\PYG{o}{.}\PYG{n}{INS\PYGZus{}ID} \PYG{o}{=} \PYG{n}{PEOPLE}\PYG{o}{.}\PYG{n}{P\PYGZus{}ID}\PYG{p}{)}
              \PYG{n}{JOIN} \PYG{n}{ROOMS} \PYG{n}{ON} \PYG{p}{(}\PYG{n}{INSTRUCTORS}\PYG{o}{.}\PYG{n}{ROOM} \PYG{o}{=} \PYG{n}{ROOMS}\PYG{o}{.}\PYG{n}{ROOM\PYGZus{}ID}\PYG{p}{)}
               \PYG{n}{LEFT} \PYG{n}{JOIN} \PYG{n}{LABS} \PYG{n}{ON} \PYG{p}{(}\PYG{n}{INSTRUCTORS}\PYG{o}{.}\PYG{n}{LAB} \PYG{o}{=} \PYG{n}{LABS}\PYG{o}{.}\PYG{n}{LAB\PYGZus{}ID}\PYG{p}{)}\PYG{l+s+s2}{\PYGZdq{}}
            \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{execute}\PYG{p}{(}\PYG{n}{statement}\PYG{p}{)}
            \PYG{n}{datas} \PYG{o}{=} \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{fetchall}\PYG{p}{(}\PYG{p}{)}
            \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{close}\PYG{p}{(}\PYG{p}{)}
            \PYG{n}{retval} \PYG{o}{=} \PYG{p}{[}\PYG{p}{]}
            \PYG{k}{for} \PYG{n}{data} \PYG{o+ow}{in} \PYG{n}{datas}\PYG{p}{:}
                \PYG{n}{val} \PYG{o}{=} \PYG{p}{\PYGZob{}}
                    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ID}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{n}{data}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{p}{,}
                    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Name}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{data}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{p}{,}
                    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Room}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{data}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{]}\PYG{p}{,}
                    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Lab}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{data}\PYG{p}{[}\PYG{l+m+mi}{3}\PYG{p}{]}\PYG{p}{,}
                    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Bachelors}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{data}\PYG{p}{[}\PYG{l+m+mi}{4}\PYG{p}{]}\PYG{p}{,}
                    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Masters}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{data}\PYG{p}{[}\PYG{l+m+mi}{5}\PYG{p}{]}\PYG{p}{,}
                    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Doctorates}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{data}\PYG{p}{[}\PYG{l+m+mi}{6}\PYG{p}{]}
                \PYG{p}{\PYGZcb{}}
                \PYG{n}{retval}\PYG{o}{.}\PYG{n}{append}\PYG{p}{(}\PYG{n}{val}\PYG{p}{)}
            \PYG{k}{return} \PYG{n}{retval}
    \PYG{k}{except} \PYG{n+ne}{Exception} \PYG{k}{as} \PYG{n}{err}\PYG{p}{:}
        \PYG{k}{print}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Get Instructors Error: }\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{err}\PYG{p}{)}

    \PYG{k}{return} \PYG{n+nb+bp}{None}
\end{sphinxVerbatim}


\paragraph{4. Updating}
\label{\detokenize{developer/berkay:updating}}
In order to update instructors, characteristic attribute id is enough to filter any of them.
attrs\_lookup\_table is used with attrs and values list in order to restrict naming and ordering attribute confusions.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{update\PYGZus{}instructor}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{ins\PYGZus{}id}\PYG{p}{,} \PYG{n}{attrs}\PYG{p}{,} \PYG{n}{values}\PYG{p}{)}\PYG{p}{:}
\PYG{n}{attrs\PYGZus{}lookup\PYGZus{}table} \PYG{o}{=} \PYG{p}{\PYGZob{}}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{department}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{DEPARTMENT}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{room}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ROOM}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{lab}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{LAB}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{bachelors}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{BACHELORS}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{masters}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{MASTERS}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{doctorates}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{DOCTORATES}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{p}{\PYGZcb{}}

\PYG{k}{try}\PYG{p}{:}
    \PYG{k}{with} \PYG{n}{dbapi2}\PYG{o}{.}\PYG{n}{connect}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{url}\PYG{p}{)} \PYG{k}{as} \PYG{n}{connection}\PYG{p}{:}
        \PYG{n}{cursor} \PYG{o}{=} \PYG{n}{connection}\PYG{o}{.}\PYG{n}{cursor}\PYG{p}{(}\PYG{p}{)}
        \PYG{n}{statement} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{UPDATE INSTRUCTORS SET }\PYG{l+s+s2}{\PYGZdq{}}
        \PYG{k}{for} \PYG{n}{i} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{attrs}\PYG{p}{)} \PYG{o}{\PYGZhy{}} \PYG{l+m+mi}{1}\PYG{p}{)}\PYG{p}{:}
            \PYG{k}{print}\PYG{p}{(}\PYG{n}{attrs\PYGZus{}lookup\PYGZus{}table}\PYG{p}{[}\PYG{n}{attrs}\PYG{p}{[}\PYG{n}{i}\PYG{p}{]}\PYG{p}{]} \PYG{o}{+} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ = }\PYG{l+s+si}{\PYGZpc{}s}\PYG{l+s+s2}{ ,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
            \PYG{n}{statement} \PYG{o}{+}\PYG{o}{=} \PYG{n}{attrs\PYGZus{}lookup\PYGZus{}table}\PYG{p}{[}\PYG{n}{attrs}\PYG{p}{[}\PYG{n}{i}\PYG{p}{]}\PYG{p}{]} \PYG{o}{+} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ = }\PYG{l+s+si}{\PYGZpc{}s}\PYG{l+s+s2}{ ,}\PYG{l+s+s2}{\PYGZdq{}}
        \PYG{n}{statement} \PYG{o}{+}\PYG{o}{=} \PYG{n}{attrs\PYGZus{}lookup\PYGZus{}table}\PYG{p}{[}\PYG{n}{attrs}\PYG{p}{[}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{p}{]} \PYG{o}{+} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ = }\PYG{l+s+si}{\PYGZpc{}s}\PYG{l+s+s2}{ WHERE INS\PYGZus{}ID = }\PYG{l+s+si}{\PYGZpc{}s}\PYG{l+s+s2}{\PYGZdq{}}
        \PYG{n}{values}\PYG{o}{.}\PYG{n}{append}\PYG{p}{(}\PYG{n}{ins\PYGZus{}id}\PYG{p}{)}
        \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{execute}\PYG{p}{(}\PYG{n}{statement}\PYG{p}{,} \PYG{n}{values}\PYG{p}{)}
        \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{close}\PYG{p}{(}\PYG{p}{)}

\PYG{k}{except} \PYG{n+ne}{Exception} \PYG{k}{as} \PYG{n}{err}\PYG{p}{:}
    \PYG{k}{print}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Update Instructors Error: }\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{err}\PYG{p}{)}
\end{sphinxVerbatim}


\paragraph{5. Deleting}
\label{\detokenize{developer/berkay:deleting}}
In order to delete an instructor, simple DELETE query is sufficient.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{delete\PYGZus{}instructor}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{ins\PYGZus{}id}\PYG{p}{)}\PYG{p}{:}
\PYG{k}{try}\PYG{p}{:}
    \PYG{k}{with} \PYG{n}{dbapi2}\PYG{o}{.}\PYG{n}{connect}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{url}\PYG{p}{)} \PYG{k}{as} \PYG{n}{connection}\PYG{p}{:}
        \PYG{n}{cursor} \PYG{o}{=} \PYG{n}{connection}\PYG{o}{.}\PYG{n}{cursor}\PYG{p}{(}\PYG{p}{)}
        \PYG{n}{statement} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{DELETE FROM INSTRUCTORS WHERE INS\PYGZus{}ID = }\PYG{l+s+si}{\PYGZpc{}s}\PYG{l+s+s2}{\PYGZdq{}}
        \PYG{n}{values} \PYG{o}{=} \PYG{p}{[}\PYG{n}{ins\PYGZus{}id}\PYG{p}{]}
        \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{execute}\PYG{p}{(}\PYG{n}{statement}\PYG{p}{,} \PYG{n}{values}\PYG{p}{)}
        \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{close}\PYG{p}{(}\PYG{p}{)}
\PYG{k}{except} \PYG{n+ne}{Exception} \PYG{k}{as} \PYG{n}{err}\PYG{p}{:}
    \PYG{k}{print}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Delete Instructor Error: }\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{err}\PYG{p}{)}
\end{sphinxVerbatim}


\subsubsection{Rooms}
\label{\detokenize{developer/berkay:rooms}}

\paragraph{1. Creation}
\label{\detokenize{developer/berkay:id1}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
    \PYG{k}{CREATE} \PYG{k}{TABLE} \PYG{k}{IF} \PYG{k}{NOT} \PYG{k}{EXISTS} \PYG{n}{ROOMS} \PYG{p}{(}
    \PYG{n}{ROOM\PYGZus{}ID} \PYG{n+nb}{SERIAL} \PYG{k}{PRIMARY} \PYG{k}{KEY}\PYG{p}{,}
    \PYG{n}{BUILDING} \PYG{n+nb}{INTEGER}\PYG{p}{,}
    \PYG{n}{ROOM\PYGZus{}NAME} \PYG{n+nb}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{10}\PYG{p}{)} \PYG{k}{UNIQUE} \PYG{k}{NOT} \PYG{k}{NULL}\PYG{p}{,}
    \PYG{n}{AVAILABLE} \PYG{n}{BOOL} \PYG{k}{DEFAULT} \PYG{k}{TRUE}\PYG{p}{,}
    \PYG{k}{CLASS} \PYG{n+nb}{BOOLEAN} \PYG{k}{DEFAULT} \PYG{k}{FALSE}\PYG{p}{,}
    \PYG{n}{LAB} \PYG{n+nb}{BOOLEAN} \PYG{k}{DEFAULT} \PYG{k}{FALSE}\PYG{p}{,}
    \PYG{n}{ROOM} \PYG{n+nb}{BOOLEAN} \PYG{k}{DEFAULT} \PYG{k}{FALSE}\PYG{p}{,}
    \PYG{k}{FOREIGN} \PYG{k}{KEY} \PYG{p}{(}\PYG{n}{BUILDING}\PYG{p}{)} \PYG{k}{REFERENCES} \PYG{n}{BUILDINGS}\PYG{p}{(}\PYG{n}{BU\PYGZus{}ID}\PYG{p}{)} \PYG{k}{ON} \PYG{k}{UPDATE} \PYG{k}{CASCADE} \PYG{k}{ON} \PYG{k}{DELETE} \PYG{k}{CASCADE}
\PYG{p}{)}
\end{sphinxVerbatim}

Building key references the building that room is in.


\paragraph{2. Adding}
\label{\detokenize{developer/berkay:id2}}
\begin{sphinxadmonition}{warning}{Warning:}
Before adding a room a building must exist to refer with a foreign key.
\end{sphinxadmonition}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{add\PYGZus{}room}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{room}\PYG{p}{)}\PYG{p}{:}
\PYG{k}{try}\PYG{p}{:}
    \PYG{k}{with} \PYG{n}{dbapi2}\PYG{o}{.}\PYG{n}{connect}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{url}\PYG{p}{)} \PYG{k}{as} \PYG{n}{connection}\PYG{p}{:}
        \PYG{n}{cursor} \PYG{o}{=} \PYG{n}{connection}\PYG{o}{.}\PYG{n}{cursor}\PYG{p}{(}\PYG{p}{)}
        \PYG{n}{statement} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{INSERT INTO ROOMS (BUILDING, ROOM\PYGZus{}NAME, AVAILABLE, CLASS, LAB, ROOM) VALUES (}\PYG{l+s+si}{\PYGZpc{}s}\PYG{l+s+s2}{, }\PYG{l+s+si}{\PYGZpc{}s}\PYG{l+s+s2}{, }\PYG{l+s+si}{\PYGZpc{}s}\PYG{l+s+s2}{, }\PYG{l+s+si}{\PYGZpc{}s}\PYG{l+s+s2}{, }\PYG{l+s+si}{\PYGZpc{}s}\PYG{l+s+s2}{, }\PYG{l+s+si}{\PYGZpc{}s}\PYG{l+s+s2}{)}\PYG{l+s+s2}{\PYGZdq{}}
        \PYG{n}{data} \PYG{o}{=} \PYG{p}{[}\PYG{n}{room}\PYG{o}{.}\PYG{n}{building}\PYG{p}{,} \PYG{n}{room}\PYG{o}{.}\PYG{n}{name}\PYG{p}{,} \PYG{n}{room}\PYG{o}{.}\PYG{n}{availability}\PYG{p}{,} \PYG{n}{room}\PYG{o}{.}\PYG{n}{classroom}\PYG{p}{,} \PYG{n}{room}\PYG{o}{.}\PYG{n}{lab}\PYG{p}{,} \PYG{n}{room}\PYG{o}{.}\PYG{n}{room}\PYG{p}{]}
        \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{execute}\PYG{p}{(}\PYG{n}{statement}\PYG{p}{,} \PYG{n}{data}\PYG{p}{)}
        \PYG{n}{statement} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{SELECT ROOM\PYGZus{}ID FROM ROOMS WHERE ROOM\PYGZus{}NAME = }\PYG{l+s+si}{\PYGZpc{}s}\PYG{l+s+s2}{\PYGZdq{}}
        \PYG{n}{data} \PYG{o}{=} \PYG{p}{[}\PYG{n}{room}\PYG{o}{.}\PYG{n}{name}\PYG{p}{]}
        \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{execute}\PYG{p}{(}\PYG{n}{statement}\PYG{p}{,} \PYG{n}{data}\PYG{p}{)}
        \PYG{n}{value} \PYG{o}{=} \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{fetchall}\PYG{p}{(}\PYG{p}{)}
        \PYG{n}{room}\PYG{o}{.}\PYG{n}{id} \PYG{o}{=} \PYG{n}{value}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}
        \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{close}\PYG{p}{(}\PYG{p}{)}
\PYG{k}{except} \PYG{n+ne}{Exception} \PYG{k}{as} \PYG{n}{err}\PYG{p}{:}
    \PYG{k}{print}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Add Room Error: }\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{err}\PYG{p}{)}
\PYG{k}{return} \PYG{n}{room}
\end{sphinxVerbatim}

After adding a room its id is taken to include it in return.


\paragraph{3. Reading}
\label{\detokenize{developer/berkay:id3}}
In order to get the name of the room’s building a join operation must be performed.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{get\PYGZus{}rooms}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{try}\PYG{p}{:}
        \PYG{k}{with} \PYG{n}{dbapi2}\PYG{o}{.}\PYG{n}{connect}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{url}\PYG{p}{)} \PYG{k}{as} \PYG{n}{connection}\PYG{p}{:}
            \PYG{n}{cursor} \PYG{o}{=} \PYG{n}{connection}\PYG{o}{.}\PYG{n}{cursor}\PYG{p}{(}\PYG{p}{)}
            \PYG{n}{statement} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{SELECT ROOM\PYGZus{}ID, BU\PYGZus{}NAME, ROOM\PYGZus{}NAME FROM ROOMS JOIN BUILDINGS ON(ROOMS.BUILDING = BUILDINGS.BU\PYGZus{}ID)}\PYG{l+s+s2}{\PYGZdq{}}
            \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{execute}\PYG{p}{(}\PYG{n}{statement}\PYG{p}{)}
            \PYG{n}{datas} \PYG{o}{=} \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{fetchall}\PYG{p}{(}\PYG{p}{)}
            \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{close}\PYG{p}{(}\PYG{p}{)}
            \PYG{n}{retval} \PYG{o}{=} \PYG{p}{[}\PYG{p}{]}
            \PYG{k}{for} \PYG{n}{data} \PYG{o+ow}{in} \PYG{n}{datas}\PYG{p}{:}
                \PYG{n}{val} \PYG{o}{=} \PYG{p}{\PYGZob{}}
                    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ID}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{data}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{p}{,}
                    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Name}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{data}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{]}\PYG{p}{,}
                    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Building}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{data}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}
                \PYG{p}{\PYGZcb{}}
                \PYG{n}{retval}\PYG{o}{.}\PYG{n}{append}\PYG{p}{(}\PYG{n}{val}\PYG{p}{)}
            \PYG{k}{return} \PYG{n}{retval}
    \PYG{k}{except} \PYG{n+ne}{Exception} \PYG{k}{as} \PYG{n}{err}\PYG{p}{:}
        \PYG{k}{print}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Get Rooms Error: }\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{err}\PYG{p}{)}
\end{sphinxVerbatim}

Rooms are returned with a list of dictionaries


\paragraph{4. Updating}
\label{\detokenize{developer/berkay:id4}}
Attributes are taken from the lookup table values and names are compared with given parameters and new values are written on the instance.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{update\PYGZus{}room}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{room\PYGZus{}id}\PYG{p}{,} \PYG{n}{attrs}\PYG{p}{,} \PYG{n}{values}\PYG{p}{)}\PYG{p}{:}
\PYG{n}{attrs\PYGZus{}lookup\PYGZus{}table} \PYG{o}{=} \PYG{p}{\PYGZob{}}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{building}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{BUILDING}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{room\PYGZus{}name}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ROOM\PYGZus{}NAME}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{class}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{CLASS}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{lab}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{LAB}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{room}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ROOM}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{available}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{AVAILABLE}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{p}{\PYGZcb{}}

\PYG{k}{try}\PYG{p}{:}
    \PYG{k}{with} \PYG{n}{dbapi2}\PYG{o}{.}\PYG{n}{connect}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{url}\PYG{p}{)} \PYG{k}{as} \PYG{n}{connection}\PYG{p}{:}
        \PYG{n}{cursor} \PYG{o}{=} \PYG{n}{connection}\PYG{o}{.}\PYG{n}{cursor}\PYG{p}{(}\PYG{p}{)}
        \PYG{n}{statement} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{UPDATE ROOMS SET }\PYG{l+s+s2}{\PYGZdq{}}
        \PYG{k}{for} \PYG{n}{i} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{attrs}\PYG{p}{)} \PYG{o}{\PYGZhy{}} \PYG{l+m+mi}{1}\PYG{p}{)}\PYG{p}{:}
            \PYG{n}{statement} \PYG{o}{+}\PYG{o}{=} \PYG{n}{attrs\PYGZus{}lookup\PYGZus{}table}\PYG{p}{[}\PYG{n}{attrs}\PYG{p}{[}\PYG{n}{i}\PYG{p}{]}\PYG{p}{]} \PYG{o}{+} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ = }\PYG{l+s+si}{\PYGZpc{}s}\PYG{l+s+s2}{ ,}\PYG{l+s+s2}{\PYGZdq{}}
        \PYG{n}{statement} \PYG{o}{+}\PYG{o}{=} \PYG{n}{attrs\PYGZus{}lookup\PYGZus{}table}\PYG{p}{[}\PYG{n}{attrs}\PYG{p}{[}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{p}{]} \PYG{o}{+} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ = }\PYG{l+s+si}{\PYGZpc{}s}\PYG{l+s+s2}{ WHERE ROOM\PYGZus{}ID = }\PYG{l+s+si}{\PYGZpc{}s}\PYG{l+s+s2}{\PYGZdq{}}
        \PYG{n}{values}\PYG{o}{.}\PYG{n}{append}\PYG{p}{(}\PYG{n}{room\PYGZus{}id}\PYG{p}{)}
        \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{execute}\PYG{p}{(}\PYG{n}{statement}\PYG{p}{,} \PYG{n}{values}\PYG{p}{)}
        \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{close}\PYG{p}{(}\PYG{p}{)}

\PYG{k}{except} \PYG{n+ne}{Exception} \PYG{k}{as} \PYG{n}{err}\PYG{p}{:}
    \PYG{k}{print}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Update Rooms Error: }\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{err}\PYG{p}{)}
\end{sphinxVerbatim}


\paragraph{5. Deleting}
\label{\detokenize{developer/berkay:id5}}
Simple DELETE query with a room id is sufficient to delete any room from the application.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{delete\PYGZus{}room}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{room\PYGZus{}id}\PYG{p}{)}\PYG{p}{:}
\PYG{k}{try}\PYG{p}{:}
    \PYG{k}{with} \PYG{n}{dbapi2}\PYG{o}{.}\PYG{n}{connect}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{url}\PYG{p}{)} \PYG{k}{as} \PYG{n}{connection}\PYG{p}{:}
        \PYG{n}{cursor} \PYG{o}{=} \PYG{n}{connection}\PYG{o}{.}\PYG{n}{cursor}\PYG{p}{(}\PYG{p}{)}
        \PYG{n}{statement} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{DELETE FROM ROOMS WHERE room\PYGZus{}id = }\PYG{l+s+si}{\PYGZpc{}s}\PYG{l+s+s2}{\PYGZdq{}}
        \PYG{n}{values} \PYG{o}{=} \PYG{p}{[}\PYG{n}{room\PYGZus{}id}\PYG{p}{]}
        \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{execute}\PYG{p}{(}\PYG{n}{statement}\PYG{p}{,} \PYG{n}{values}\PYG{p}{)}
        \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{close}\PYG{p}{(}\PYG{p}{)}
\PYG{k}{except} \PYG{n+ne}{Exception} \PYG{k}{as} \PYG{n}{err}\PYG{p}{:}
    \PYG{k}{print}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Delete Room Error: }\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{err}\PYG{p}{)}
\end{sphinxVerbatim}


\subsubsection{Classrooms}
\label{\detokenize{developer/berkay:classrooms}}

\paragraph{1. Creation}
\label{\detokenize{developer/berkay:id6}}
Private and foreign key class id refers to the room id that the class in.
.. note:: In our structure every classroom is a (inside a) room.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
    \PYG{k}{CREATE} \PYG{k}{TABLE} \PYG{k}{IF} \PYG{k}{NOT} \PYG{k}{EXISTS} \PYG{n}{CLASSES}\PYG{p}{(}
    \PYG{n}{CL\PYGZus{}ID} \PYG{n+nb}{INTEGER} \PYG{k}{PRIMARY} \PYG{k}{KEY}\PYG{p}{,}
    \PYG{n}{CAP} \PYG{n+nb}{INTEGER} \PYG{k}{NOT} \PYG{k}{NULL}\PYG{p}{,}
    \PYG{k}{TYPE} \PYG{n+nb}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{15}\PYG{p}{)} \PYG{k}{DEFAULT} \PYG{l+s+s1}{\PYGZsq{}Lecture\PYGZsq{}}\PYG{p}{,}
    \PYG{n}{AIR\PYGZus{}CONDITIONER} \PYG{n}{BOOL}\PYG{p}{,}
    \PYG{n}{LAST\PYGZus{}RESTORATION} \PYG{n+nb}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{4}\PYG{p}{)}\PYG{p}{,}
    \PYG{n}{BOARD\PYGZus{}TYPE} \PYG{n+nb}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{5}\PYG{p}{)} \PYG{k}{DEFAULT} \PYG{l+s+s1}{\PYGZsq{}Mixed\PYGZsq{}}\PYG{p}{,}
    \PYG{k}{FOREIGN} \PYG{k}{KEY} \PYG{p}{(}\PYG{n}{CL\PYGZus{}ID}\PYG{p}{)} \PYG{k}{REFERENCES} \PYG{n}{ROOMS}\PYG{p}{(}\PYG{n}{ROOM\PYGZus{}ID}\PYG{p}{)} \PYG{k}{ON} \PYG{k}{DELETE} \PYG{k}{CASCADE}
\PYG{p}{)}
\end{sphinxVerbatim}


\paragraph{2. Adding}
\label{\detokenize{developer/berkay:id7}}
Before adding a classroom a room is added if not exists, with the proper values.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{add\PYGZus{}classroom}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{classroom}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{try}\PYG{p}{:}
            \PYG{k}{with} \PYG{n}{dbapi2}\PYG{o}{.}\PYG{n}{connect}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{url}\PYG{p}{)} \PYG{k}{as} \PYG{n}{connection}\PYG{p}{:}
                \PYG{n}{cursor} \PYG{o}{=} \PYG{n}{connection}\PYG{o}{.}\PYG{n}{cursor}\PYG{p}{(}\PYG{p}{)}
                \PYG{n}{statement} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{INSERT INTO CLASSES (CL\PYGZus{}ID, TYPE, AIR\PYGZus{}CONDITIONER, LAST\PYGZus{}RESTORATION, BOARD\PYGZus{}TYPE, CAP) VALUES (}\PYG{l+s+si}{\PYGZpc{}s}\PYG{l+s+s2}{, }\PYG{l+s+si}{\PYGZpc{}s}\PYG{l+s+s2}{, }\PYG{l+s+si}{\PYGZpc{}s}\PYG{l+s+s2}{, }\PYG{l+s+si}{\PYGZpc{}s}\PYG{l+s+s2}{, }\PYG{l+s+si}{\PYGZpc{}s}\PYG{l+s+s2}{, }\PYG{l+s+si}{\PYGZpc{}s}\PYG{l+s+s2}{)}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{n}{data} \PYG{o}{=} \PYG{p}{[}\PYG{n}{classroom}\PYG{o}{.}\PYG{n}{id}\PYG{p}{,} \PYG{n}{classroom}\PYG{o}{.}\PYG{n}{type}\PYG{p}{,} \PYG{n}{classroom}\PYG{o}{.}\PYG{n}{conditioner}\PYG{p}{,} \PYG{n}{classroom}\PYG{o}{.}\PYG{n}{restoration\PYGZus{}date}\PYG{p}{,} \PYG{n}{classroom}\PYG{o}{.}\PYG{n}{board\PYGZus{}type}\PYG{p}{,} \PYG{n}{classroom}\PYG{o}{.}\PYG{n}{cap}\PYG{p}{]}
                \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{execute}\PYG{p}{(}\PYG{n}{statement}\PYG{p}{,} \PYG{n}{data}\PYG{p}{)}
                \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{close}\PYG{p}{(}\PYG{p}{)}
        \PYG{k}{except} \PYG{n+ne}{Exception} \PYG{k}{as} \PYG{n}{err}\PYG{p}{:}
            \PYG{k}{print}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Add Classroom Error: }\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{err}\PYG{p}{)}
        \PYG{k}{return} \PYG{n}{classroom}
\end{sphinxVerbatim}


\paragraph{3. Reading}
\label{\detokenize{developer/berkay:id8}}
Selecting all the values by the name in order to avoid ordering problems when giving them to attributes dictioanary.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{get\PYGZus{}classrooms}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{try}\PYG{p}{:}
        \PYG{k}{with} \PYG{n}{dbapi2}\PYG{o}{.}\PYG{n}{connect}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{url}\PYG{p}{)} \PYG{k}{as} \PYG{n}{connection}\PYG{p}{:}
            \PYG{n}{cursor} \PYG{o}{=} \PYG{n}{connection}\PYG{o}{.}\PYG{n}{cursor}\PYG{p}{(}\PYG{p}{)}
            \PYG{n}{statement} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{SELECT CLASSES.CL\PYGZus{}ID, ROOMS.ROOM\PYGZus{}NAME, CLASSES.CAP, CLASSES.TYPE, BUILDINGS.BU\PYGZus{}NAME FROM CLASSES JOIN ROOMS ON CL\PYGZus{}ID = ROOM\PYGZus{}ID JOIN BUILDINGS ON BUILDINGS.BU\PYGZus{}ID = ROOMS.BUILDING}\PYG{l+s+s2}{\PYGZdq{}}
            \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{execute}\PYG{p}{(}\PYG{n}{statement}\PYG{p}{)}
            \PYG{n}{datas} \PYG{o}{=} \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{fetchall}\PYG{p}{(}\PYG{p}{)}
            \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{close}\PYG{p}{(}\PYG{p}{)}
            \PYG{n}{retval} \PYG{o}{=} \PYG{p}{[}\PYG{p}{]}
            \PYG{k}{for} \PYG{n}{data} \PYG{o+ow}{in} \PYG{n}{datas}\PYG{p}{:}
                \PYG{n}{val} \PYG{o}{=} \PYG{p}{\PYGZob{}}
                    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ID}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{n}{data}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{p}{,}
                    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Name}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{data}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{p}{,}
                    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Capacity}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{data}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{]}\PYG{p}{,}
                    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Class Type}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{data}\PYG{p}{[}\PYG{l+m+mi}{3}\PYG{p}{]}\PYG{p}{,}
                    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Building Name}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{data}\PYG{p}{[}\PYG{l+m+mi}{4}\PYG{p}{]}\PYG{p}{,}
                \PYG{p}{\PYGZcb{}}
                \PYG{n}{retval}\PYG{o}{.}\PYG{n}{append}\PYG{p}{(}\PYG{n}{val}\PYG{p}{)}
            \PYG{k}{return} \PYG{n}{retval}
    \PYG{k}{except} \PYG{n+ne}{Exception} \PYG{k}{as} \PYG{n}{err}\PYG{p}{:}
        \PYG{k}{print}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Get Classrooms Error: }\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{err}\PYG{p}{)}

    \PYG{k}{return} \PYG{n+nb+bp}{None}
\end{sphinxVerbatim}


\paragraph{4. Updating}
\label{\detokenize{developer/berkay:id9}}
Same update process is applied to classrooms. Attribute names and their values are given parameters from the form.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{update\PYGZus{}classroom}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{class\PYGZus{}id}\PYG{p}{,} \PYG{n}{attrs}\PYG{p}{,} \PYG{n}{values}\PYG{p}{)}\PYG{p}{:}
\PYG{n}{attrs\PYGZus{}lookup\PYGZus{}table} \PYG{o}{=} \PYG{p}{\PYGZob{}}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{type}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{TYPE}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{air\PYGZus{}conditioner}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{AIR\PYGZus{}CONDITIONER}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{last\PYGZus{}restoration}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{LAST\PYGZus{}RESTORATION}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{board\PYGZus{}type}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{BOARD\PYGZus{}TYPE}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{cap}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{CAP}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{p}{\PYGZcb{}}

\PYG{k}{try}\PYG{p}{:}
    \PYG{k}{with} \PYG{n}{dbapi2}\PYG{o}{.}\PYG{n}{connect}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{url}\PYG{p}{)} \PYG{k}{as} \PYG{n}{connection}\PYG{p}{:}
        \PYG{n}{cursor} \PYG{o}{=} \PYG{n}{connection}\PYG{o}{.}\PYG{n}{cursor}\PYG{p}{(}\PYG{p}{)}
        \PYG{n}{statement} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{UPDATE CLASSES SET }\PYG{l+s+s2}{\PYGZdq{}}
        \PYG{k}{for} \PYG{n}{i} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{attrs}\PYG{p}{)} \PYG{o}{\PYGZhy{}} \PYG{l+m+mi}{1}\PYG{p}{)}\PYG{p}{:}
            \PYG{n}{statement} \PYG{o}{+}\PYG{o}{=} \PYG{n}{attrs\PYGZus{}lookup\PYGZus{}table}\PYG{p}{[}\PYG{n}{attrs}\PYG{p}{[}\PYG{n}{i}\PYG{p}{]}\PYG{p}{]} \PYG{o}{+} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ = }\PYG{l+s+si}{\PYGZpc{}s}\PYG{l+s+s2}{ ,}\PYG{l+s+s2}{\PYGZdq{}}
        \PYG{n}{statement} \PYG{o}{+}\PYG{o}{=} \PYG{n}{attrs\PYGZus{}lookup\PYGZus{}table}\PYG{p}{[}\PYG{n}{attrs}\PYG{p}{[}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{p}{]} \PYG{o}{+} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ = }\PYG{l+s+si}{\PYGZpc{}s}\PYG{l+s+s2}{ WHERE CL\PYGZus{}ID = }\PYG{l+s+si}{\PYGZpc{}s}\PYG{l+s+s2}{\PYGZdq{}}
        \PYG{k}{print}\PYG{p}{(}\PYG{n}{statement}\PYG{p}{,} \PYG{n}{values}\PYG{p}{)}
        \PYG{n}{values}\PYG{o}{.}\PYG{n}{append}\PYG{p}{(}\PYG{n}{class\PYGZus{}id}\PYG{p}{)}
        \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{execute}\PYG{p}{(}\PYG{n}{statement}\PYG{p}{,} \PYG{n}{values}\PYG{p}{)}
        \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{close}\PYG{p}{(}\PYG{p}{)}
\PYG{k}{except} \PYG{n+ne}{Exception} \PYG{k}{as} \PYG{n}{err}\PYG{p}{:}
    \PYG{k}{print}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Update Classroom Error: }\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{err}\PYG{p}{)}
\end{sphinxVerbatim}


\paragraph{5. Deleting}
\label{\detokenize{developer/berkay:id10}}
\begin{sphinxadmonition}{note}{Note:}
By the cascade nature if referred room is deleted the classroom is deleted.
\end{sphinxadmonition}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{delete\PYGZus{}classroom}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{cl\PYGZus{}id}\PYG{p}{)}\PYG{p}{:}
\PYG{k}{try}\PYG{p}{:}
    \PYG{k}{with} \PYG{n}{dbapi2}\PYG{o}{.}\PYG{n}{connect}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{url}\PYG{p}{)} \PYG{k}{as} \PYG{n}{connection}\PYG{p}{:}
        \PYG{n}{cursor} \PYG{o}{=} \PYG{n}{connection}\PYG{o}{.}\PYG{n}{cursor}\PYG{p}{(}\PYG{p}{)}
        \PYG{n}{statement} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{DELETE FROM CLASSES WHERE CL\PYGZus{}ID = }\PYG{l+s+si}{\PYGZpc{}s}\PYG{l+s+s2}{\PYGZdq{}}
        \PYG{n}{values} \PYG{o}{=} \PYG{p}{[}\PYG{n}{cl\PYGZus{}id}\PYG{p}{]}
        \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{execute}\PYG{p}{(}\PYG{n}{statement}\PYG{p}{,} \PYG{n}{values}\PYG{p}{)}
        \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{close}\PYG{p}{(}\PYG{p}{)}
\PYG{k}{except} \PYG{n+ne}{Exception} \PYG{k}{as} \PYG{n}{err}\PYG{p}{:}
    \PYG{k}{print}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Delete Classroom Error: }\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{err}\PYG{p}{)}
\end{sphinxVerbatim}


\subsection{Parts Implemented by Member Name}
\label{\detokenize{developer/kaplan:parts-implemented-by-member-name}}\label{\detokenize{developer/kaplan::doc}}

\subsection{Parts Implemented by Member Name}
\label{\detokenize{developer/member3:parts-implemented-by-member-name}}\label{\detokenize{developer/member3::doc}}


\renewcommand{\indexname}{Index}
\printindex
\end{document}